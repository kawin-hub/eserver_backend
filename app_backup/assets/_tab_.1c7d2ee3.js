import{bk as R,k as u,$ as g,A as Q,o as f,b as z,w as s,p as t,q as i,D as V,m as a,E as T,c as y,F as G,a as X,x as _,C as q,H as Y,I as Z,bd as dt}from"./index.49ef7351.js";import{L as pt}from"./index.823c123d.js";import{a as tt}from"./formatters.1ccc6423.js";import et from"./DeleteButtonInList.bbad5bba.js";import{x as at}from"./xlsx.full.min.cef7e216.js";import{c as k,V as lt}from"./VCard.489135da.js";import{V as W,a as P}from"./VRow.04ed429a.js";import{V as E}from"./VSelect.dd7a9d71.js";import{V as $}from"./VDivider.fa0f54cb.js";import{V as st}from"./VSpacer.8c8e1470.js";import{V as ot}from"./VTextField.45867489.js";import{V as w}from"./VBtn.5345231d.js";import{V as nt}from"./VTable.1ed5b077.js";import{V as it}from"./VAvatar.89c4d356.js";import{V as rt}from"./VImg.33aacaa5.js";import{V as ut}from"./VChip.d8bf415a.js";import{V as ct}from"./VPagination.fc089f6f.js";import{V as mt,a as vt}from"./VTabs.0297fe0f.js";import{V as J,a as K}from"./VWindowItem.8776e1a5.js";import"./index.0d4b9ec4.js";import"./DialogCloseBtn.65a007fa.js";import"./VDialog.1ef42ac0.js";import"./scopeId.1cbcff4d.js";import"./forwardRefs.c003b6b8.js";import"./VOverlay.1858ab35.js";import"./router.7394f425.js";import"./lazy.ff556122.js";import"./easing.36b781ab.js";import"./dialog-transition.d8941cb2.js";import"./position.5856deb4.js";import"./VList.3a0b4683.js";import"./index.a19f3361.js";import"./VMenu.d92d4813.js";import"./VCheckboxBtn.cc3cfdf3.js";import"./VSelectionControl.7a61433f.js";import"./VInput.1ff489a8.js";/* empty css                   */import"./VField.6fbd17fb.js";import"./VCounter.f0f43262.js";import"./VSlideGroup.f767825e.js";import"./ssrBoot.3f4cfd1b.js";const U=new pt({url:R.api.url+"customer"});const _t={class:"me-3",style:{width:"80px"}},ft={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ht={style:{width:"10rem"}},xt=a("thead",null,[a("tr",null,[a("th",{scope:"col"},"NAME"),a("th",{scope:"col"},"UPDATED AT"),a("th",{scope:"col"},"CRATED AT"),a("th",{scope:"col"},"STATUS"),a("th",{scope:"col"},"ACTION")])],-1),Vt={class:"d-flex align-center"},bt={key:1},gt={class:"d-flex flex-column"},wt={class:"text-capitalize text-base"},yt={class:"text-capitalize text-base font-weight-semibold"},At={class:"text-base"},St={class:"text-center",style:{width:"5rem"}},Dt=a("tr",null,[a("td",{colspan:"7",class:"text-center"},"No data available")],-1),Tt=[Dt],kt={class:"text-sm text-disabled"},$t={__name:"index",props:{dataSummary:{type:Object}},setup(H){const A=U,h=u(),r=u(10),c=u(1),d=u(1),m=u(0),I=u("add"),x=u([]),v=u([]),b=u(""),M=u(),C=()=>{A.fetchData().then(l=>{x.value=l.data.inventoryLocations;let o=0;x.value.forEach(e=>{e.status=="active"&&o++}),x.value.length-o})},N=()=>{if(x.value===void 0)return 0;var l=A.filterData({q:b.value,status:h.value,perPage:r.value,currentPage:c.value},x.value);v.value=l.items,d.value=l.totalPage,m.value=l.totalItems};g(C),g(N),g(()=>{c.value>d.value&&(c.value=d.value)});const L=[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],F=l=>l==="pending"?"warning":l==="active"?"success":l==="inactive"?"secondary":"primary",j=u(!1);g(()=>{c.value>d.value&&(c.value=d.value)});const O=Q(()=>{const l=v.value.length?(c.value-1)*r.value+1:0,o=v.value.length+(c.value-1)*r.value;return`Showing ${l} to ${o} of ${m.value} entries`}),B=()=>{let l=v.value.map(n=>({name:n.name,description:n.description,status:n.status,createdAt:n.createdAt,updatedAt:n.updatedAt}));const o=new Date().toISOString().slice(0,10),e=at,S=e.utils.book_new(),D=e.utils.json_to_sheet(l);e.utils.sheet_add_aoa(D,[["Name","Description","Status","Created at","Updated at"]],{origin:"A1"}),D["!cols"]=[{wch:l.reduce((n,p)=>Math.max(n,p.name.length),10)},{wch:l.reduce((n,p)=>Math.max(n,p.description.length),10)},{wch:l.reduce((n,p)=>Math.max(n,p.status.length),10)},{wch:l.reduce((n,p)=>Math.max(n,p.createdAt.length),10)},{wch:l.reduce((n,p)=>Math.max(n,p.updatedAt.length),10)}],e.utils.book_append_sheet(S,D),e.writeFile(S,"categories-("+o+").xlsx")};return(l,o)=>(f(),z(lt,{title:"Search Filter"},{default:s(()=>[t(k,null,{default:s(()=>[t(W,null,{default:s(()=>[t(P,{cols:"12",sm:"4"},{default:s(()=>[t(E,{modelValue:i(h),"onUpdate:modelValue":o[0]||(o[0]=e=>V(h)?h.value=e:null),label:"Select Status",items:L,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t($),t(k,{class:"d-flex flex-wrap py-4 gap-4"},{default:s(()=>[a("div",_t,[t(E,{modelValue:i(r),"onUpdate:modelValue":o[1]||(o[1]=e=>V(r)?r.value=e:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),t(st),a("div",ft,[a("div",ht,[t(ot,{modelValue:i(b),"onUpdate:modelValue":o[2]||(o[2]=e=>V(b)?b.value=e:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),t(w,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share",onClick:B},{default:s(()=>[T(" Export ")]),_:1}),t(w,{"prepend-icon":"tabler-plus",to:{name:"system-setting-customer-customer-detail"}},{default:s(()=>[T(" Add customer ")]),_:1})])]),_:1}),t($),t(nt,{class:"text-no-wrap"},{default:s(()=>[xt,a("tbody",null,[(f(!0),y(G,null,X(i(v),e=>(f(),y("tr",{key:e._id,style:{height:"3.75rem"}},[a("td",null,[a("div",Vt,[t(it,{variant:"tonal",color:"primary",class:"me-3",size:"38"},{default:s(()=>[e.avatar?(f(),z(rt,{key:0,src:i(R).api.url+e.avatar},null,8,["src"])):(f(),y("span",bt,_(i(tt)(e.name)),1))]),_:2},1024),a("div",gt,[a("h6",wt,_(e.name),1)])])]),a("td",null,[a("span",yt,_(new Date(e.updatedAt).toString().split("GMT")[0]),1)]),a("td",null,[a("span",At,_(new Date(e.createdAt).toString().split("GMT")[0]),1)]),a("td",null,[t(ut,{label:"",color:F(e.status),size:"small",class:"text-capitalize"},{default:s(()=>[T(_(e.status),1)]),_:2},1032,["color"])]),a("td",St,[t(w,{icon:"",size:"x-small",color:"default",variant:"text"},{default:s(()=>[t(q,{size:"22",icon:"tabler-edit",onClick:S=>{j.value=!0,I.value="edit",M.value=e}},null,8,["onClick"])]),_:2},1024),t(w,{icon:"",size:"x-small",color:"default",variant:"text"},{default:s(()=>[t(et,{title:"Delete inventory location",data:e,"fetch-data":C,"use-list-store":i(U)},null,8,["data","use-list-store"])]),_:2},1024)])]))),128))]),Y(a("tfoot",null,Tt,512),[[Z,!i(v).length]])]),_:1}),t($),t(k,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:s(()=>[a("span",kt,_(i(O)),1),t(ct,{modelValue:i(c),"onUpdate:modelValue":o[3]||(o[3]=e=>V(c)?c.value=e:null),size:"small","total-visible":5,length:i(d)},null,8,["modelValue","length"])]),_:1})]),_:1}))}};const Ct={class:"me-3",style:{width:"80px"}},zt={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Pt={style:{width:"10rem"}},Et=a("thead",null,[a("tr",null,[a("th",{scope:"col"},"NAME"),a("th",{scope:"col"},"UPDATED AT"),a("th",{scope:"col"},"CRATED AT"),a("th",{scope:"col"},"STATUS"),a("th",{scope:"col"},"ACTION")])],-1),Ut={class:"d-flex align-center"},It={key:1},Mt={class:"d-flex flex-column"},Nt={class:"text-capitalize text-base"},Lt={class:"text-capitalize text-base font-weight-semibold"},Ft={class:"text-base"},jt={class:"text-center",style:{width:"5rem"}},Ot=a("tr",null,[a("td",{colspan:"7",class:"text-center"},"No data available")],-1),Bt=[Ot],Rt={class:"text-sm text-disabled"},Gt={__name:"index",props:{dataSummary:{type:Object}},setup(H){const A=U,h=u(),r=u(10),c=u(1),d=u(1),m=u(0),I=u("add"),x=u([]),v=u([]),b=u(""),M=u(),C=()=>{A.fetchData().then(l=>{x.value=l.data.inventoryLocations;let o=0;x.value.forEach(e=>{e.status=="active"&&o++}),x.value.length-o})},N=()=>{if(x.value===void 0)return 0;var l=A.filterData({q:b.value,status:h.value,perPage:r.value,currentPage:c.value},x.value);v.value=l.items,d.value=l.totalPage,m.value=l.totalItems};g(C),g(N),g(()=>{c.value>d.value&&(c.value=d.value)});const L=[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],F=l=>l==="pending"?"warning":l==="active"?"success":l==="inactive"?"secondary":"primary",j=u(!1);g(()=>{c.value>d.value&&(c.value=d.value)});const O=Q(()=>{const l=v.value.length?(c.value-1)*r.value+1:0,o=v.value.length+(c.value-1)*r.value;return`Showing ${l} to ${o} of ${m.value} entries`}),B=()=>{let l=v.value.map(n=>({name:n.name,description:n.description,status:n.status,createdAt:n.createdAt,updatedAt:n.updatedAt}));const o=new Date().toISOString().slice(0,10),e=at,S=e.utils.book_new(),D=e.utils.json_to_sheet(l);e.utils.sheet_add_aoa(D,[["Name","Description","Status","Created at","Updated at"]],{origin:"A1"}),D["!cols"]=[{wch:l.reduce((n,p)=>Math.max(n,p.name.length),10)},{wch:l.reduce((n,p)=>Math.max(n,p.description.length),10)},{wch:l.reduce((n,p)=>Math.max(n,p.status.length),10)},{wch:l.reduce((n,p)=>Math.max(n,p.createdAt.length),10)},{wch:l.reduce((n,p)=>Math.max(n,p.updatedAt.length),10)}],e.utils.book_append_sheet(S,D),e.writeFile(S,"categories-("+o+").xlsx")};return(l,o)=>(f(),z(lt,{title:"Search Filter"},{default:s(()=>[t(k,null,{default:s(()=>[t(W,null,{default:s(()=>[t(P,{cols:"12",sm:"4"},{default:s(()=>[t(E,{modelValue:i(h),"onUpdate:modelValue":o[0]||(o[0]=e=>V(h)?h.value=e:null),label:"Select Status",items:L,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t($),t(k,{class:"d-flex flex-wrap py-4 gap-4"},{default:s(()=>[a("div",Ct,[t(E,{modelValue:i(r),"onUpdate:modelValue":o[1]||(o[1]=e=>V(r)?r.value=e:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),t(st),a("div",zt,[a("div",Pt,[t(ot,{modelValue:i(b),"onUpdate:modelValue":o[2]||(o[2]=e=>V(b)?b.value=e:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),t(w,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share",onClick:B},{default:s(()=>[T(" Export ")]),_:1}),t(w,{"prepend-icon":"tabler-plus",to:{name:"system-setting-customer-customer-detail"}},{default:s(()=>[T(" Add Type ")]),_:1})])]),_:1}),t($),t(nt,{class:"text-no-wrap"},{default:s(()=>[Et,a("tbody",null,[(f(!0),y(G,null,X(i(v),e=>(f(),y("tr",{key:e._id,style:{height:"3.75rem"}},[a("td",null,[a("div",Ut,[t(it,{variant:"tonal",color:"primary",class:"me-3",size:"38"},{default:s(()=>[e.avatar?(f(),z(rt,{key:0,src:i(R).api.url+e.avatar},null,8,["src"])):(f(),y("span",It,_(i(tt)(e.name)),1))]),_:2},1024),a("div",Mt,[a("h6",Nt,_(e.name),1)])])]),a("td",null,[a("span",Lt,_(new Date(e.updatedAt).toString().split("GMT")[0]),1)]),a("td",null,[a("span",Ft,_(new Date(e.createdAt).toString().split("GMT")[0]),1)]),a("td",null,[t(ut,{label:"",color:F(e.status),size:"small",class:"text-capitalize"},{default:s(()=>[T(_(e.status),1)]),_:2},1032,["color"])]),a("td",jt,[t(w,{icon:"",size:"x-small",color:"default",variant:"text"},{default:s(()=>[t(q,{size:"22",icon:"tabler-edit",onClick:S=>{j.value=!0,I.value="edit",M.value=e}},null,8,["onClick"])]),_:2},1024),t(w,{icon:"",size:"x-small",color:"default",variant:"text"},{default:s(()=>[t(et,{title:"Delete inventory location",data:e,"fetch-data":C,"use-list-store":i(U)},null,8,["data","use-list-store"])]),_:2},1024)])]))),128))]),Y(a("tfoot",null,Bt,512),[[Z,!i(v).length]])]),_:1}),t($),t(k,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:s(()=>[a("span",Rt,_(i(O)),1),t(ct,{modelValue:i(c),"onUpdate:modelValue":o[3]||(o[3]=e=>V(c)?c.value=e:null),size:"small","total-visible":5,length:i(d)},null,8,["modelValue","length"])]),_:1})]),_:1}))}};const Pe={__name:"[tab]",setup(H){const A=[{title:"Customer Type",icon:"tabler-box-multiple-1",tab:"customer-type"},{title:"Customers",icon:"tabler-users",tab:"customer"},{title:"Project",icon:"tabler-building-estate",tab:"project"}],h=dt(),r=u(h.params.tab);return(c,d)=>(f(),y("section",null,[t(W,null,{default:s(()=>[t(P,{cols:"12"},{default:s(()=>[t(mt,{modelValue:i(r),"onUpdate:modelValue":d[0]||(d[0]=m=>V(r)?r.value=m:null),class:"v-tabs-pill"},{default:s(()=>[(f(),y(G,null,X(A,m=>t(vt,{key:m.icon,value:m.tab,to:{name:"system-setting-customer-tab",params:{tab:m.tab}}},{default:s(()=>[t(q,{size:"20",start:"",icon:m.icon},null,8,["icon"]),T(" "+_(m.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"])]),_:1}),t(P,{cols:"12"},{default:s(()=>[t(J,{modelValue:i(r),"onUpdate:modelValue":d[1]||(d[1]=m=>V(r)?r.value=m:null),class:"disable-tab-transition",touch:!1},{default:s(()=>[t(K,{value:"customer-type"},{default:s(()=>[t(Gt)]),_:1})]),_:1},8,["modelValue"]),t(J,{modelValue:i(r),"onUpdate:modelValue":d[2]||(d[2]=m=>V(r)?r.value=m:null),class:"disable-tab-transition",touch:!1},{default:s(()=>[t(K,{value:"customer"},{default:s(()=>[t($t)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]))}};export{Pe as default};
