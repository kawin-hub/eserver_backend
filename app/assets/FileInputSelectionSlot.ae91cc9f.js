import{n as B}from"./no-image.bc16c952.js";import{L as O,k as _,Z as z,o as d,c as p,b as I,w as o,p as s,q as u,D as k,F as b,a as y,E as g,x as n,y as U,m as e,C as M,bn as w,a3 as N,a4 as q}from"./index.35991f09.js";import{_ as $}from"./ConfirmationPopup.26c6d5ed.js";/* empty css                                                                               */import{V as j}from"./VFileInput.c9eefa19.js";import{V as Z}from"./VChip.81c7dee3.js";import{a as F}from"./VRow.f9366793.js";import{V as G}from"./VCard.bb37f72e.js";import{V as L}from"./VBtn.3e0f2bdf.js";import{V as H}from"./VMenu.768d7784.js";import{V as J,a as K,b as P}from"./VList.8e9051e1.js";import{V as Q}from"./VDivider.0f44b1ce.js";import{V as W}from"./VTable.0fe7de7a.js";import{V as T}from"./VAvatar.6ed53308.js";import{V as A}from"./VImg.632117c3.js";const C="/assets/pdf.8995d890.png",v=f=>(N("data-v-a1691ded"),f=f(),q(),f),X={class:"me-n2"},Y=v(()=>e("thead",null,[e("tr",null,[e("th",{class:"font-weight-semibold"},"FILE"),e("th",{class:"font-weight-semibold"},"DATE"),e("th",{class:"font-weight-semibold",width:"130"},"ACTION")])],-1)),ee={style:{"padding-block":"0.61rem"}},te={class:"d-flex align-center"},ae={class:"me-3"},le={class:"text-medium-emphasis font-weight-semibold text-base mb-0"},se=["href"],oe={class:"text-sm mb-0 opacity-100 text-disabled"},ie={style:{"padding-block":"0.61rem"}},de=v(()=>e("p",{class:"text-medium-emphasis font-weight-semibold text-base mb-0"}," Upload ",-1)),ne={class:"text-sm opacity-100 text-disabled"},pe={style:{"padding-block":"0.61rem"}},re={class:"font-weight-medium text-medium-emphasis text-base"},ce={key:0,class:"order-sm-0 order-1"},me={style:{"padding-block":"0.61rem"}},ue={class:"d-flex align-center"},fe={class:"me-3"},_e={class:"text-medium-emphasis font-weight-semibold text-base mb-0"},be={class:"text-sm mb-0 opacity-100 text-disabled"},he={style:{"padding-block":"0.61rem"}},ye=v(()=>e("p",{class:"text-medium-emphasis font-weight-semibold text-base mb-0"}," Upload ",-1)),ge={class:"text-sm opacity-100 text-disabled"},ve={style:{"padding-block":"0.61rem"}},xe={class:"font-weight-medium text-medium-emphasis text-base"},Ve={__name:"FileInputSelectionSlot",props:{label:{type:String,default:"Input File"},acceptType:{type:String,default:""},prependIcon:{type:String,default:"tabler-paperclip"},files:{type:Array,default:[]},filesAlreadyUploaded:{type:Object,default:[]},popUpTitle:{type:String,required:!0},popUpLabel:{type:String,required:!0},deletedFile:{type:Array,default:[]},fileInputEnable:{type:Boolean,default:!0}},setup(f){const l=f,h=_(!1),x=_(0),V=_(l.popUpLabel),r=_(l.files),c=_(l.files),S=()=>{if(l.acceptType.indexOf("image")>=0)D();else if(l.acceptType.indexOf("pdf")>=0){let i=r.value;c.value=[];for(let a=0;a<i.length;a++)c.value[a]=i[a],c.value[a].localURL=C}},D=()=>{let i=r.value;c.value=[];for(let a=0;a<i.length;a++){let t=new FileReader;t.readAsDataURL(i[a]),t.onload=()=>{typeof t.result=="string"&&(c.value[a]=i[a],c.value[a].localURL=t.result)}}};z(r,()=>{l.files.splice(0),l.files.push(...r.value),S()});const R=i=>{let a="";return l.acceptType.indexOf("image")>=0?i.path==""?a=B:a=w.api.url+i.path:l.acceptType.indexOf("pdf")>=0&&(a=C),a},E=i=>{l.deletedFile[l.deletedFile.length]=l.filesAlreadyUploaded[i]._id,l.filesAlreadyUploaded.splice(i,1)};return(i,a)=>(d(),p(b,null,[l.fileInputEnable?(d(),I(F,{key:0},{default:o(()=>[s(j,{modelValue:u(r),"onUpdate:modelValue":a[0]||(a[0]=t=>k(r)?r.value=t:null),multiple:"",placeholder:"Upload your documents",label:l.label,"prepend-icon":l.prependIcon,accept:l.acceptType,onChange:a[1]||(a[1]=()=>{})},{selection:o(({fileNames:t})=>[(d(!0),p(b,null,y(t,m=>(d(),I(Z,{key:m,label:"",size:"small",variant:"outlined",color:"primary",class:"me-2"},{default:o(()=>[g(n(m),1)]),_:2},1024))),128))]),_:1},8,["modelValue","label","prepend-icon","accept"])]),_:1})):U("",!0),s(F,null,{default:o(()=>[s(G,{title:"Recent Transaction"},{append:o(()=>[e("div",X,[s(L,{icon:"",color:"default",size:"x-small",variant:"plain"},{default:o(()=>[s(M,{size:"22",icon:"tabler-dots-vertical"}),s(H,{activator:"parent"},{default:o(()=>[s(J,null,{default:o(()=>[(d(),p(b,null,y(["Download"],(t,m)=>s(K,{key:m,value:m},{default:o(()=>[s(P,null,{default:o(()=>[g(n(t),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1})])]),default:o(()=>[s(Q),s(W,{class:"text-no-wrap"},{default:o(()=>[Y,e("tbody",null,[(d(!0),p(b,null,y(l.filesAlreadyUploaded,(t,m)=>(d(),p("tr",{key:t.name},[e("td",ee,[e("div",te,[e("div",ae,[s(T,{variant:"tonal",class:"me-3",size:"38"},{default:o(()=>[s(A,{src:R(t),width:"50"},null,8,["src"])]),_:2},1024)]),e("div",null,[e("p",le,[e("a",{href:u(w).api.url+t.path,target:"_blank"},n(t.name),9,se)]),e("p",oe,n(t.name),1)])])]),e("td",ie,[de,e("span",ne,n(t.createdAt),1)]),e("td",pe,[e("span",re,[l.fileInputEnable?(d(),p("div",ce,[s(L,{variant:"tonal",onClick:Ie=>{h.value=!0,x.value=m,V.value=l.popUpLabel+' "'+t.name+'"?'}},{default:o(()=>[g(" Delete ")]),_:2},1032,["onClick"])])):U("",!0)])])]))),128)),(d(!0),p(b,null,y(u(c),t=>(d(),p("tr",{key:t.name},[e("td",me,[e("div",ue,[e("div",fe,[s(T,{variant:"tonal",class:"me-3",size:"38"},{default:o(()=>[s(A,{src:t.localURL,width:"50"},null,8,["src"])]),_:2},1024)]),e("div",null,[e("p",_e,n(t.name),1),e("p",be,n(t.name),1)])])]),e("td",he,[ye,e("span",ge,n(t.lastModifiedDate),1)]),e("td",ve,[e("span",xe,n(),1)])]))),128))])]),_:1})]),_:1})]),_:1}),s($,{title:l.popUpTitle,label:u(V),"is-dialog-visible":u(h),"onUpdate:is-dialog-visible":a[2]||(a[2]=t=>k(h)?h.value=t:null),"call-back":E,"call-back-index":u(x)},null,8,["title","label","is-dialog-visible","call-back-index"])],64))}},Me=O(Ve,[["__scopeId","data-v-a1691ded"]]);export{Me as M};
