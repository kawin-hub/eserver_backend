import{j as H,k as s,o as M,c as E,p as e,w as a,q as r,E as y,be as R,D as N,C as z,x as G,al as J}from"./index.35991f09.js";import{u as I}from"./useExpenseListStore.9e602fbc.js";import{r as U}from"./validators.9dda6c80.js";import{_ as K}from"./AppDateTimePicker.f12e24e3.js";import{M as T}from"./FileInputSelectionSlot.ae91cc9f.js";import{_ as Q}from"./ConfirmationPopup.26c6d5ed.js";import{a as i,V as O}from"./VRow.f9366793.js";import{V as D,c as p}from"./VCard.bb37f72e.js";import{V as A}from"./VTextField.4609cb9e.js";import{V as j}from"./VSelect.1bdb2ecc.js";import{V as W}from"./VCombobox.bd903a82.js";import{V as X}from"./VTextarea.0a746d96.js";import{V as C}from"./VBtn.3e0f2bdf.js";import{V as Y}from"./VDialog.61de6f6e.js";import{V as Z}from"./position.15b8fc3a.js";import{V as h}from"./VSnackbar.34637b93.js";import{b as S}from"./route-block.182765af.js";import{V as ee}from"./VForm.9ba2d763.js";import"./index.a44853ab.js";import"./index.0d4b9ec4.js";import"./VField.93eb26cb.js";import"./index.a8f66a9c.js";import"./VInput.6bf7b46e.js";import"./router.88351000.js";import"./form.e84299e4.js";import"./VImg.632117c3.js";import"./easing.36b781ab.js";import"./no-image.bc16c952.js";/* empty css                                                                               */import"./VFileInput.c9eefa19.js";import"./forwardRefs.c003b6b8.js";import"./VChip.81c7dee3.js";import"./VAvatar.6ed53308.js";import"./VCounter.cb1a1153.js";import"./VMenu.768d7784.js";import"./scopeId.a8f1d836.js";import"./VOverlay.a330b104.js";import"./lazy.7e795ed8.js";import"./dialog-transition.13a8c048.js";import"./VList.8e9051e1.js";import"./VDivider.0f44b1ce.js";import"./VTable.0fe7de7a.js";import"./DialogCloseBtn.9d70464b.js";/* empty css                   */import"./VCheckboxBtn.a302f7e6.js";import"./VSelectionControl.6ac8e090.js";import"./filter.f86a5c3d.js";const le={__name:"basicInformationMain",props:{expenseFormData:{type:Object},expenseFormDataOriginal:{type:Object},refForm:{type:Object},expenseImageFiles:{type:Object,default:[]},expensePDFFiles:{type:Object,default:[]},alreadyUploaded:{type:Object,default:[]},expenseImageFilesAlreadyUploaded:{type:Object,default:[]},expensePDFFilesAlreadyUploaded:{type:Object,default:[]},deletedImageFile:{type:Object},deletedPDFFile:{type:Object}},emits:["update:expenseFormData"],setup(P,{emit:u}){const l=P,w=H(),x=s(!1),d=s(!1);var V=!1;const f=s(null),c=s(!1);s([]),s([]);const m=s({visible:!1,icon:"tabler-xbox-x",color:"error",title:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E2B\u0E49\u0E04\u0E23\u0E1A\u0E15\u0E32\u0E21\u0E17\u0E35\u0E48\u0E23\u0E30\u0E1A\u0E1A\u0E01\u0E33\u0E2B\u0E19\u0E14"});s();const g=[{title:"Stock",value:"stock"},{title:"Non Stock",value:"nonstock"}],_=[{title:"Smart Film",value:"smart film"},{title:"Smart Home",value:"smart home"},{title:"Smart Mirror",value:"smart mirror"},{title:"\u0E2D\u0E37\u0E48\u0E19 \u0E46",value:"\u0E2D\u0E37\u0E48\u0E19 \u0E46"},{title:"Marketing",value:"marketing"},{title:"Plateform, license, Cloud",value:"plateform, license, cloud"},{title:"Test Product",value:"test product"},{title:"\u0E04\u0E48\u0E32\u0E19\u0E49\u0E33\u0E21\u0E31\u0E19",value:"gasoline"},{title:"\u0E04\u0E48\u0E32\u0E2D\u0E32\u0E2B\u0E32\u0E23",value:"food"},{title:"\u0E40\u0E1A\u0E47\u0E14\u0E40\u0E15\u0E25\u0E47\u0E14",value:"miscellaneous"}];s([]);const $=s(["#Test01","#Test02","#Test03","#Test04","#Test05"]);(()=>{I.fetchData("/newExpenseId").then(F=>{var t=F.data.data.documentNumber;l.expenseFormData.documentNumber=t})})();const B=()=>{u("update:expenseFormData",{...l.expenseFormDataOriginal})},k=()=>{var F;(F=l.refForm)==null||F.validate().then(async({valid:t})=>{if(t){d.value=!0,x.value=!0;let v=new FormData;for(var o of l.expenseImageFiles)v.append("images",o);for(var q of l.expensePDFFiles)v.append("documents",q);Object.entries(l.expenseFormData).forEach(([n,b])=>{n=="documentNumber",v.append(n,b),console.log(n,b)}),I.insertItem(v).then(n=>{console.log(n.data),n.data.code==1?w.push({name:"projects-account-tab",params:{tab:"expenses"},query:{action:"addSuccess",topic:l.expenseFormData.documentNumber}}):n.data.code==6?I.fetchData("/newExpenseId").then(b=>{f.value=b.data.data.documentNumber,typeof b.data.data.documentNumber<"u"&&(c.value=!0)}):n.data.code==7?m.valid={visible:!0,icon:"tabler-xbox-x",color:"error",title:"\u0E44\u0E1F\u0E25\u0E4C\u0E2B\u0E23\u0E37\u0E2D\u0E23\u0E39\u0E1B\u0E20\u0E32\u0E1E\u0E21\u0E35\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07 \u0E42\u0E1B\u0E23\u0E14\u0E25\u0E2D\u0E07\u0E43\u0E2B\u0E21\u0E48\u0E2D\u0E35\u0E01\u0E04\u0E23\u0E31\u0E49\u0E07"}:n.data.code==2?m.valid={visible:!0,icon:"tabler-xbox-x",color:"error",title:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E01\u0E34\u0E14\u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22"}:m.value={visible:!0,icon:"tabler-xbox-x",color:"error",title:"\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E01\u0E32\u0E23\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E41\u0E08\u0E49\u0E07\u0E40\u0E08\u0E49\u0E32\u0E2B\u0E19\u0E49\u0E32\u0E17\u0E35\u0E48\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E17\u0E33\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02"}}).catch().finally(()=>{d.value=!1,x.value=!1})}else m.value={visible:!0,icon:"tabler-xbox-x",color:"error",title:"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E43\u0E2B\u0E49\u0E04\u0E23\u0E1A\u0E15\u0E32\u0E21\u0E17\u0E35\u0E48\u0E23\u0E30\u0E1A\u0E1A\u0E01\u0E33\u0E2B\u0E19\u0E14"}})},L=()=>{l.expenseFormData.documentNumber=f.value,V?m.value={visible:!0,icon:"tabler-xbox-x",color:"error",title:"\u0E21\u0E35\u0E1A\u0E32\u0E07\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E40\u0E01\u0E35\u0E48\u0E22\u0E27\u0E01\u0E31\u0E1A\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48\u0E40\u0E2D\u0E01\u0E2A\u0E32\u0E23 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E15\u0E34\u0E14\u0E15\u0E48\u0E2D Admin"}:(k(),V=!0)};return(F,t)=>(M(),E("section",null,[e(O,null,{default:a(()=>[e(i,{cols:"12"},{default:a(()=>[e(D,{title:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22"},{default:a(()=>[e(p,{class:"d-flex"},{default:a(()=>[e(i,{cols:"12"},{default:a(()=>[e(D,null,{default:a(()=>[e(p,{class:"pt-2"},{default:a(()=>[e(p,{class:"d-flex"},{default:a(()=>[e(O,null,{default:a(()=>[e(i,{cols:"12",md:"6"},{default:a(()=>[e(A,{modelValue:l.expenseFormData.documentNumber,"onUpdate:modelValue":t[0]||(t[0]=o=>l.expenseFormData.documentNumber=o),label:"\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48\u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:a(()=>[e(K,{modelValue:l.expenseFormData.expenseDate,"onUpdate:modelValue":t[1]||(t[1]=o=>l.expenseFormData.expenseDate=o),label:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E01\u0E34\u0E14\u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"6"},{default:a(()=>[e(j,{modelValue:l.expenseFormData.category,"onUpdate:modelValue":t[2]||(t[2]=o=>l.expenseFormData.category=o),label:" -- \u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2B\u0E21\u0E27\u0E14\u0E2B\u0E21\u0E39\u0E48\u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22 -- ",items:g,"menu-props":{maxHeight:200},rules:[r(U)(l.expenseFormData.category,"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2B\u0E21\u0E27\u0E14\u0E2B\u0E21\u0E39\u0E48\u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22")]},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"6"},{default:a(()=>[e(j,{modelValue:l.expenseFormData.type,"onUpdate:modelValue":t[3]||(t[3]=o=>l.expenseFormData.type=o),label:" -- \u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22 -- ",items:_,"menu-props":{maxHeight:200},rules:[r(U)(l.expenseFormData.type,"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22")]},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"12"},{default:a(()=>[e(A,{modelValue:l.expenseFormData.amount,"onUpdate:modelValue":t[4]||(t[4]=o=>l.expenseFormData.amount=o),label:"\u0E22\u0E2D\u0E14\u0E23\u0E27\u0E21\u0E04\u0E48\u0E32\u0E43\u0E02\u0E49\u0E08\u0E48\u0E32\u0E22",prefix:"\u0E3F",type:"number",rules:[r(U)(l.expenseFormData.amount,"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E22\u0E2D\u0E14\u0E23\u0E27\u0E21\u0E04\u0E48\u0E32\u0E43\u0E0A\u0E49\u0E08\u0E48\u0E32\u0E22")]},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"6"},{default:a(()=>[e(A,{modelValue:l.expenseFormData.whom,"onUpdate:modelValue":t[5]||(t[5]=o=>l.expenseFormData.whom=o),label:"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E0B\u0E37\u0E49\u0E2D",rules:[r(U)(l.expenseFormData.whom,"\u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E0B\u0E37\u0E49\u0E2D")]},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12",md:"6"},{default:a(()=>[e(W,{modelValue:l.expenseFormData.tag,"onUpdate:modelValue":t[6]||(t[6]=o=>l.expenseFormData.tag=o),chips:"",clearable:"",multiple:"","closable-chips":"","clear-icon":"tabler-circle-x",items:r($),label:"Tag"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"12"},{default:a(()=>[e(X,{modelValue:l.expenseFormData.remark,"onUpdate:modelValue":t[7]||(t[7]=o=>l.expenseFormData.remark=o),label:"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(p,{class:"d-flex"},{default:a(()=>[e(i,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(C,{onClick:k,disabled:r(x)},{default:a(()=>[y(" \u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25")]),_:1},8,["disabled"]),e(C,{color:"secondary",variant:"tonal",type:"reset",onClick:R(B,["prevent"])},{default:a(()=>[y(" \u0E25\u0E49\u0E32\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 ")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(Y,{modelValue:r(d),"onUpdate:modelValue":t[8]||(t[8]=o=>N(d)?d.value=o:null),persistent:"",width:"300"},{default:a(()=>[e(D,{color:"primary",width:"300"},{default:a(()=>[e(p,{class:"pt-3"},{default:a(()=>[y(" \u0E01\u0E33\u0E25\u0E31\u0E07\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E2D\u0E0B\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48 "),e(Z,{indeterminate:"",color:"white",class:"mb-0"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(h,{modelValue:r(m).visible,"onUpdate:modelValue":t[9]||(t[9]=o=>r(m).visible=o),location:"bottom end"},{default:a(()=>[e(z,{icon:r(m).icon,color:r(m).color,size:"30"},null,8,["icon","color"]),y(" \xA0 "+G(r(m).title),1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(i,{cols:"12"},{default:a(()=>[e(D,{title:"\u0E41\u0E19\u0E1A\u0E23\u0E39\u0E1B\u0E17\u0E35\u0E48\u0E40\u0E01\u0E35\u0E48\u0E22\u0E27\u0E02\u0E49\u0E2D\u0E07"},{default:a(()=>[e(p,null,{default:a(()=>[e(T,{acceptType:"image/*",label:"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E23\u0E39\u0E1B",prependIcon:"tabler-camera",files:l.expenseImageFiles,filesAlreadyUploaded:l.expenseImageFilesAlreadyUploaded,"onUpdate:filesAlreadyUploaded":t[10]||(t[10]=o=>l.expenseImageFilesAlreadyUploaded=o),popUpTitle:"Delete related image.",popUpLabel:"Are you sure you want to delete",deletedFile:l.deletedImageFile,"onUpdate:deletedFile":t[11]||(t[11]=o=>l.deletedImageFile=o)},null,8,["files","filesAlreadyUploaded","deletedFile"])]),_:1})]),_:1})]),_:1}),e(i,{cols:"12"},{default:a(()=>[e(D,{title:"\u0E41\u0E19\u0E1A\u0E40\u0E2D\u0E01\u0E2A\u0E32\u0E23\u0E17\u0E35\u0E48\u0E40\u0E01\u0E35\u0E48\u0E22\u0E27\u0E02\u0E49\u0E2D\u0E07 (PDF)"},{default:a(()=>[e(p,null,{default:a(()=>[e(T,{acceptType:"application/pdf",label:"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E2D\u0E01\u0E2A\u0E32\u0E23 PDF",files:l.expensePDFFiles,filesAlreadyUploaded:l.expensePDFFilesAlreadyUploaded,"onUpdate:filesAlreadyUploaded":t[12]||(t[12]=o=>l.expensePDFFilesAlreadyUploaded=o),popUpTitle:"Delete related PDF.",popUpLabel:"Are you sure you want to delete",deletedFile:l.deletedPDFFile,"onUpdate:deletedFile":t[13]||(t[13]=o=>l.deletedPDFFile=o)},null,8,["files","filesAlreadyUploaded","deletedFile"])]),_:1})]),_:1})]),_:1}),e(Q,{title:"\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48\u0E40\u0E2D\u0E01\u0E2A\u0E32\u0E23\u0E0B\u0E49\u0E33",label:`\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48\u0E40\u0E2D\u0E01\u0E2A\u0E32\u0E23\u0E08\u0E32\u0E01 "${l.expenseFormData.documentNumber}" \u0E40\u0E1B\u0E47\u0E19 "${r(f)}" \u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48`,"is-dialog-visible":r(c),"onUpdate:is-dialog-visible":t[14]||(t[14]=o=>N(c)?c.value=o:null),"call-back":L,"button-label":{cancel:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",submit:"\u0E15\u0E01\u0E25\u0E07"}},null,8,["label","is-dialog-visible"])]),_:1})]))}},te={__name:"index",setup(P){const u=s(),l=s([]),w=s([]),x=s([]),d=s([]),V=J({image:[],pdf:[]}),f={documentNumber:"100000",expenseDate:"",category:null,type:null,amount:0,whom:"",tag:"",remark:"",documents:[],images:[]},c=s(structuredClone(f));return(m,g)=>(M(),E("section",null,[e(ee,{ref_key:"refForm",ref:u,class:"mt-6"},{default:a(()=>[e(le,{expenseFormData:r(c),expenseFormDataOriginal:f,refForm:r(u),"onUpdate:refForm":g[0]||(g[0]=_=>N(u)?u.value=_:null),expenseImageFiles:r(l),expenseImageFilesAlreadyUploaded:r(w),expensePDFFiles:r(x),expensePDFFilesAlreadyUploaded:r(d),deletedFile:r(V),class:"d-flex justify-space-between flex-wrap flex-column flex-sm-row print-row"},null,8,["expenseFormData","refForm","expenseImageFiles","expenseImageFilesAlreadyUploaded","expensePDFFiles","expensePDFFilesAlreadyUploaded","deletedFile"]),y(" /> ")]),_:1},512)]))}};typeof S=="function"&&S(te);export{te as default};
