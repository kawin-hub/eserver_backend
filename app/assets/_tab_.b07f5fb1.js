import{bk as U,k as c,$ as S,A as J,o as v,b as E,w as l,p as t,q as r,D as V,m as a,E as A,c as b,F as L,a as M,x as f,C as $,H as K,I as Q,bd as Y}from"./index.dc90d0c7.js";import{L as Z}from"./index.cb840b2e.js";import{a as tt}from"./formatters.1ccc6423.js";import et from"./DeleteButtonInList.33aae4fe.js";import{x as at}from"./xlsx.full.min.98caecf6.js";import{c as k,V as lt}from"./VCard.ef7570db.js";import{V as F,a as P}from"./VRow.a1d8e599.js";import{V as I}from"./VSelect.a1d5e943.js";import{V as C}from"./VDivider.09f7ba48.js";import{V as st}from"./VSpacer.aeeabc4c.js";import{V as ot}from"./VTextField.43a06b61.js";import{V as y}from"./VBtn.5ca26f7c.js";import{V as it}from"./VTable.b519be0a.js";import{V as nt}from"./VAvatar.6d3c69e8.js";import{V as rt}from"./VImg.3d76415f.js";import{V as ut}from"./VChip.b4ad4a52.js";import{V as ct}from"./VPagination.51e71dc0.js";import{V as dt,a as pt}from"./VTabs.58b1a972.js";import{V as mt,a as ft}from"./VWindowItem.f740b083.js";import"./index.0d4b9ec4.js";import"./DialogCloseBtn.f0270141.js";import"./VDialog.e968e9e0.js";import"./scopeId.51c205c4.js";import"./forwardRefs.c003b6b8.js";import"./VOverlay.f4f2a002.js";import"./router.9f5abff7.js";import"./lazy.1f3570de.js";import"./easing.36b781ab.js";import"./dialog-transition.b4f36d59.js";import"./position.734f74ac.js";import"./VList.b57c1041.js";import"./index.35436ddd.js";import"./VMenu.b33cc928.js";import"./VCheckboxBtn.732d4006.js";import"./VSelectionControl.64caeaf6.js";import"./VInput.3420ac64.js";/* empty css                   */import"./VField.1bfe0f1f.js";import"./VCounter.07f4b2d1.js";import"./VSlideGroup.f23fe18d.js";import"./ssrBoot.0ecfb30c.js";const N=new Z({url:U.api.url+"product/pricelist"}),vt={class:"me-3",style:{width:"80px"}},_t={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ht={style:{width:"10rem"}},Vt=a("thead",null,[a("tr",null,[a("th",{scope:"col"},"NAME"),a("th",{scope:"col"},"UPDATED AT"),a("th",{scope:"col"},"CRATED AT"),a("th",{scope:"col"},"STATUS"),a("th",{scope:"col"},"ACTION")])],-1),xt={class:"d-flex align-center"},bt={key:1},gt={class:"d-flex flex-column"},wt={class:"text-capitalize text-base"},St={class:"text-capitalize text-base font-weight-semibold"},yt={class:"text-base"},At={class:"text-center",style:{width:"5rem"}},Dt=a("tr",null,[a("td",{colspan:"7",class:"text-center"},"No data available")],-1),Tt=[Dt],kt={class:"text-sm text-disabled"},Ct={__name:"index",props:{dataSummary:{type:Object}},setup(B){const g=N,_=c(),n=c(10),d=c(1),p=c(1),u=c(0),R=c("add"),x=c([]),h=c([]),w=c(""),j=c(),z=()=>{g.fetchData().then(s=>{x.value=s.data.inventoryLocations;let o=0;x.value.forEach(e=>{e.status=="active"&&o++}),x.value.length-o})},O=()=>{if(x.value===void 0)return 0;var s=g.filterData({q:w.value,status:_.value,perPage:n.value,currentPage:d.value},x.value);h.value=s.items,p.value=s.totalPage,u.value=s.totalItems};S(z),S(O),S(()=>{d.value>p.value&&(d.value=p.value)});const q=[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],G=s=>s==="pending"?"warning":s==="active"?"success":s==="inactive"?"secondary":"primary",W=c(!1);S(()=>{d.value>p.value&&(d.value=p.value)});const X=J(()=>{const s=h.value.length?(d.value-1)*n.value+1:0,o=h.value.length+(d.value-1)*n.value;return`Showing ${s} to ${o} of ${u.value} entries`}),H=()=>{let s=h.value.map(i=>({name:i.name,description:i.description,status:i.status,createdAt:i.createdAt,updatedAt:i.updatedAt}));const o=new Date().toISOString().slice(0,10),e=at,D=e.utils.book_new(),T=e.utils.json_to_sheet(s);e.utils.sheet_add_aoa(T,[["Name","Description","Status","Created at","Updated at"]],{origin:"A1"}),T["!cols"]=[{wch:s.reduce((i,m)=>Math.max(i,m.name.length),10)},{wch:s.reduce((i,m)=>Math.max(i,m.description.length),10)},{wch:s.reduce((i,m)=>Math.max(i,m.status.length),10)},{wch:s.reduce((i,m)=>Math.max(i,m.createdAt.length),10)},{wch:s.reduce((i,m)=>Math.max(i,m.updatedAt.length),10)}],e.utils.book_append_sheet(D,T),e.writeFile(D,"categories-("+o+").xlsx")};return(s,o)=>(v(),E(lt,{title:"Search Filter"},{default:l(()=>[t(k,null,{default:l(()=>[t(F,null,{default:l(()=>[t(P,{cols:"12",sm:"4"},{default:l(()=>[t(I,{modelValue:r(_),"onUpdate:modelValue":o[0]||(o[0]=e=>V(_)?_.value=e:null),label:"Select Status",items:q,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(C),t(k,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[a("div",vt,[t(I,{modelValue:r(n),"onUpdate:modelValue":o[1]||(o[1]=e=>V(n)?n.value=e:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),t(st),a("div",_t,[a("div",ht,[t(ot,{modelValue:r(w),"onUpdate:modelValue":o[2]||(o[2]=e=>V(w)?w.value=e:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),t(y,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share",onClick:H},{default:l(()=>[A(" Export ")]),_:1}),t(y,{"prepend-icon":"tabler-plus",to:{name:"system-setting-price-pricelist-detail"}},{default:l(()=>[A(" Add pricelist ")]),_:1})])]),_:1}),t(C),t(it,{class:"text-no-wrap"},{default:l(()=>[Vt,a("tbody",null,[(v(!0),b(L,null,M(r(h),e=>(v(),b("tr",{key:e._id,style:{height:"3.75rem"}},[a("td",null,[a("div",xt,[t(nt,{variant:"tonal",color:"primary",class:"me-3",size:"38"},{default:l(()=>[e.avatar?(v(),E(rt,{key:0,src:r(U).api.url+e.avatar},null,8,["src"])):(v(),b("span",bt,f(r(tt)(e.name)),1))]),_:2},1024),a("div",gt,[a("h6",wt,f(e.name),1)])])]),a("td",null,[a("span",St,f(new Date(e.updatedAt).toString().split("GMT")[0]),1)]),a("td",null,[a("span",yt,f(new Date(e.createdAt).toString().split("GMT")[0]),1)]),a("td",null,[t(ut,{label:"",color:G(e.status),size:"small",class:"text-capitalize"},{default:l(()=>[A(f(e.status),1)]),_:2},1032,["color"])]),a("td",At,[t(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[t($,{size:"22",icon:"tabler-edit",onClick:D=>{W.value=!0,R.value="edit",j.value=e}},null,8,["onClick"])]),_:2},1024),t(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[t(et,{title:"Delete inventory location",data:e,"fetch-data":z,"use-list-store":r(N)},null,8,["data","use-list-store"])]),_:2},1024)])]))),128))]),K(a("tfoot",null,Tt,512),[[Q,!r(h).length]])]),_:1}),t(C),t(k,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:l(()=>[a("span",kt,f(r(X)),1),t(ct,{modelValue:r(d),"onUpdate:modelValue":o[3]||(o[3]=e=>V(d)?d.value=e:null),size:"small","total-visible":5,length:r(p)},null,8,["modelValue","length"])]),_:1})]),_:1}))}};const he={__name:"[tab]",setup(B){const g=[{title:"Price list",icon:"tabler-currency-baht",tab:"location"}],_=Y(),n=c(_.params.tab);return(d,p)=>(v(),b("section",null,[t(F,null,{default:l(()=>[t(P,{cols:"12"},{default:l(()=>[t(dt,{modelValue:r(n),"onUpdate:modelValue":p[0]||(p[0]=u=>V(n)?n.value=u:null),class:"v-tabs-pill"},{default:l(()=>[(v(),b(L,null,M(g,u=>t(pt,{key:u.icon,value:u.tab,to:{name:"system-setting-price-tab",params:{tab:u.tab}}},{default:l(()=>[t($,{size:"20",start:"",icon:u.icon},null,8,["icon"]),A(" "+f(u.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"])]),_:1}),t(P,{cols:"12"},{default:l(()=>[t(mt,{modelValue:r(n),"onUpdate:modelValue":p[1]||(p[1]=u=>V(n)?n.value=u:null),class:"disable-tab-transition",touch:!1},{default:l(()=>[t(ft,{value:"location"},{default:l(()=>[t(Ct)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]))}};export{he as default};
