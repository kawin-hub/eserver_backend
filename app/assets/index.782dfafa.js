import{bn as B,k as c,$ as z,A as F,o as y,b as U,w as a,p as e,q as m,D as S,m as t,E as u,C as _,c as P,F as R,a as O,x as h,H as X,I as H}from"./index.35991f09.js";import{L as J}from"./index.a44853ab.js";import K from"./DeleteButtonInList.e4081504.js";import{x as Q}from"./xlsx.full.min.97d888ff.js";import{c as N,V as W}from"./VCard.bb37f72e.js";import{V as Y,a as Z}from"./VRow.f9366793.js";import{V as k}from"./VSelect.1bdb2ecc.js";import{V as I}from"./VDivider.0f44b1ce.js";import{V as tt}from"./VSpacer.80b37d7c.js";import{V as et}from"./VTextField.4609cb9e.js";import{V as r}from"./VBtn.3e0f2bdf.js";import{V as at}from"./VTable.0fe7de7a.js";import{V as x}from"./VChip.81c7dee3.js";import{V as st}from"./VPagination.1d990c54.js";import"./DialogCloseBtn.9d70464b.js";import"./VDialog.61de6f6e.js";import"./scopeId.a8f1d836.js";import"./forwardRefs.c003b6b8.js";import"./VOverlay.a330b104.js";import"./router.88351000.js";import"./lazy.7e795ed8.js";import"./easing.36b781ab.js";import"./VImg.632117c3.js";import"./dialog-transition.13a8c048.js";import"./VAvatar.6ed53308.js";import"./position.15b8fc3a.js";import"./VList.8e9051e1.js";import"./index.a8f66a9c.js";import"./VMenu.768d7784.js";import"./VCheckboxBtn.a302f7e6.js";import"./VSelectionControl.6ac8e090.js";import"./VInput.6bf7b46e.js";import"./form.e84299e4.js";/* empty css                   */import"./VField.93eb26cb.js";import"./VCounter.cb1a1153.js";const A=new J({url:B.api.url+"installation"}),lt={class:"me-3",style:{width:"80px"}},ot={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},nt={style:{width:"10rem"}},it=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2D\u0E19\u0E38\u0E21\u0E31\u0E15\u0E34"),t("th",{scope:"col"},"\u0E1B\u0E23\u0E30\u0E21\u0E32\u0E13\u0E01\u0E32\u0E23\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07"),t("th",{scope:"col"},"\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48\u0E07\u0E32\u0E19\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07"),t("th",{scope:"col"},"\u0E0A\u0E37\u0E48\u0E2D\u0E07\u0E32\u0E19"),t("th",{scope:"col"},"\u0E2A\u0E16\u0E32\u0E19\u0E30\u0E07\u0E32\u0E19\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07"),t("th",{scope:"col"},"\u0E01\u0E32\u0E23\u0E14\u0E33\u0E40\u0E19\u0E34\u0E19\u0E01\u0E32\u0E23")])],-1),ct=t("td",null,[t("span",{class:"text-base"},"2023-09-09")],-1),rt=t("td",null,[t("span",{class:"text-base"},"2024-02-20")],-1),dt=t("td",null,[t("span",{class:"text-base"},"INS123463")],-1),ut=t("td",null,[t("span",{class:"text-base"},"Supalai Palm Spring Rama 2")],-1),pt={class:"text-center",style:{width:"5rem"}},mt=t("td",null,[t("span",{class:"text-base"},"2023-11-11")],-1),_t=t("td",null,[t("span",{class:"text-base"},"2024-02-25")],-1),xt=t("td",null,[t("span",{class:"text-base"},"INS123462")],-1),ht=t("td",null,[t("span",{class:"text-base"},"niita niitaya")],-1),bt={class:"text-center",style:{width:"5rem"}},ft=t("td",null,[t("span",{class:"text-base"},"2023-10-01")],-1),vt=t("td",null,[t("span",{class:"text-base"},"2024-01-06")],-1),gt=t("td",null,[t("span",{class:"text-base"},"INS123461")],-1),wt=t("td",null,[t("span",{class:"text-base"},"niita niitaya02")],-1),zt={class:"text-center",style:{width:"5rem"}},Vt=t("td",null,[t("span",{class:"text-base"},"2023-10-01")],-1),St=t("td",null,[t("span",{class:"text-base"},"2024-01-05")],-1),yt=t("td",null,[t("span",{class:"text-base"},"INS123460")],-1),jt=t("td",null,[t("span",{class:"text-base"},"Customer05")],-1),Dt={class:"text-center",style:{width:"5rem"}},Nt=t("td",null,[t("span",{class:"text-base"},"2023-10-01")],-1),It=t("td",null,[t("span",{class:"text-base"},"2024-01-04")],-1),Pt=t("td",null,[t("span",{class:"text-base"},"INS123459")],-1),Tt=t("td",null,[t("span",{class:"text-base"},"Customer04")],-1),Ct={class:"text-center",style:{width:"5rem"}},Mt=t("td",null,[t("span",{class:"text-base"},"2023-10-01")],-1),kt=t("td",null,[t("span",{class:"text-base"},"2024-01-03")],-1),At=t("td",null,[t("span",{class:"text-base"},"INS123458")],-1),Lt=t("td",null,[t("span",{class:"text-base"},"Customer03")],-1),Et={class:"text-center",style:{width:"5rem"}},Gt=t("td",null,[t("span",{class:"text-base"},"2023-10-01")],-1),$t=t("td",null,[t("span",{class:"text-base"},"2024-01-02")],-1),qt=t("td",null,[t("span",{class:"text-base"},"INS123457")],-1),Bt=t("td",null,[t("span",{class:"text-base"},"Customer02")],-1),Ft={class:"text-center",style:{width:"5rem"}},Ut=t("td",null,[t("span",{class:"text-base"},"2023-10-01")],-1),Rt=t("td",null,[t("span",{class:"text-base"},"2024-01-01")],-1),Ot=t("td",null,[t("span",{class:"text-base"},"INS123456")],-1),Xt=t("td",null,[t("span",{class:"text-base"},"Customer01")],-1),Ht={class:"text-center",style:{width:"5rem"}},Jt={class:"text-capitalize text-base font-weight-semibold"},Kt={class:"text-base"},Qt={class:"text-base"},Wt={class:"text-base"},Yt={class:"text-base"},Zt={class:"text-base"},te={class:"text-center",style:{width:"5rem"}},ee=t("tr",null,[t("td",{colspan:"7",class:"text-center"},"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E07\u0E32\u0E19\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07")],-1),ae=[ee],se={class:"text-sm text-disabled"},le={__name:"index",props:{dataSummary:{type:Object}},setup(L){const j=A,g=c(),b=c(10),d=c(1),f=c(1),T=c(0);c("add");const w=c([]),v=c([]),V=c("");c();const C=()=>{j.fetchData().then(s=>{w.value=s.data.installationLocations;let n=0;w.value.forEach(l=>{l.projectStatus=="active"&&n++}),w.value.length-n})},E=()=>{if(w.value===void 0)return 0;var s=j.filterData({q:V.value,projectStatus:g.value,perPage:b.value,currentPage:d.value},w.value);v.value=s.items,f.value=s.totalPage,T.value=s.totalItems};z(C),z(E),z(()=>{d.value>f.value&&(d.value=f.value)});const G=[{title:"\u0E2A\u0E48\u0E07\u0E04\u0E33\u0E02\u0E2D",value:"request"},{title:"\u0E23\u0E31\u0E1A\u0E04\u0E33\u0E02\u0E2D",value:"receive"},{title:"\u0E23\u0E2D\u0E19\u0E31\u0E14\u0E2B\u0E21\u0E32\u0E22\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07",value:"await"},{title:"\u0E19\u0E31\u0E14\u0E2B\u0E21\u0E32\u0E22\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07\u0E41\u0E25\u0E49\u0E27",value:"appointment"},{title:"\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07\u0E41\u0E25\u0E49\u0E27",value:"installed"},{title:"\u0E04\u0E49\u0E32\u0E07\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07",value:"not complete"},{title:"\u0E2A\u0E48\u0E07\u0E21\u0E2D\u0E1A\u0E07\u0E32\u0E19\u0E41\u0E25\u0E49\u0E27",value:"done"},{title:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E07\u0E32\u0E19",value:"cancel"}],p=s=>s==="request"?"warning":s==="receive"?"secondary":s==="await"?"primary":s==="appointment"||s==="installed"?"info":s==="not complete"?"warning":s==="done"?"success":s==="cancel"?"error":"primary";c(!1),z(()=>{d.value>f.value&&(d.value=f.value)});const $=F(()=>{const s=v.value.length?(d.value-1)*b.value+1:0,n=v.value.length+(d.value-1)*b.value;return`\u0E41\u0E2A\u0E14\u0E07\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 ${s} \u0E16\u0E36\u0E07 ${n} \u0E08\u0E32\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14 ${T.value} \u0E1A\u0E23\u0E23\u0E17\u0E31\u0E14`}),q=()=>{let s=v.value.map(o=>({approvedDate:o.approvedDate,installationNumber:o.projectNumber,projectType:o.projectType,projectName:o.projectName,plan:o.plan,customerName:o.customerName,projectStatus:o.projectStatus}));const n=new Date().toISOString().slice(0,10),l=Q,M=l.utils.book_new(),D=l.utils.json_to_sheet(s);l.utils.sheet_add_aoa(D,[["Approved Date","Project Number","Project Type","Project Name","Plan","Customer Name","Project Status"]],{origin:"A1"}),D["!cols"]=[{wch:s.reduce((o,i)=>Math.max(o,i.approvedDate.length),10)},{wch:s.reduce((o,i)=>Math.max(o,i.installationNumber.length),10)},{wch:s.reduce((o,i)=>Math.max(o,i.projectType.length),10)},{wch:s.reduce((o,i)=>Math.max(o,i.projectName.length),10)},{wch:s.reduce((o,i)=>Math.max(o,i.plan.length),10)},{wch:s.reduce((o,i)=>Math.max(o,i.customerName.length),10)},{wch:s.reduce((o,i)=>Math.max(o,i.projectStatus.length),10)}],l.utils.book_append_sheet(M,D),l.writeFile(M,"categories-("+n+").xlsx")};return(s,n)=>(y(),U(W,{title:"\u0E15\u0E31\u0E27\u0E01\u0E23\u0E2D\u0E07"},{default:a(()=>[e(N,null,{default:a(()=>[e(Y,null,{default:a(()=>[e(Z,{cols:"12",sm:"4"},{default:a(()=>[e(k,{modelValue:m(g),"onUpdate:modelValue":n[0]||(n[0]=l=>S(g)?g.value=l:null),label:" -- \u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2A\u0E16\u0E32\u0E19\u0E30\u0E07\u0E32\u0E19\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07 -- ",items:G,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(I),e(N,{class:"d-flex flex-wrap py-4 gap-4"},{default:a(()=>[t("div",lt,[e(k,{modelValue:m(b),"onUpdate:modelValue":n[1]||(n[1]=l=>S(b)?b.value=l:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),e(tt),t("div",ot,[t("div",nt,[e(et,{modelValue:m(V),"onUpdate:modelValue":n[2]||(n[2]=l=>S(V)?V.value=l:null),placeholder:"\u0E04\u0E49\u0E19\u0E2B\u0E32",density:"compact"},null,8,["modelValue"])]),e(r,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share",onClick:q},{default:a(()=>[u(" \u0E2A\u0E48\u0E07\u0E2D\u0E2D\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 ")]),_:1})])]),_:1}),e(I),e(at,{class:"text-no-wrap"},{default:a(()=>[it,t("tbody",null,[t("tr",null,[ct,rt,dt,ut,t("td",null,[e(x,{label:"",color:p("cancel"),size:"small",class:"text-capitalize"},{default:a(()=>[u(" \u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E07\u0E32\u0E19 ")]),_:1},8,["color"])]),t("td",pt,[e(r,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"projects-installation-update-tab",params:{tab:"customers"}}},{default:a(()=>[e(_,{size:"22",icon:"tabler-edit"})]),_:1})])]),t("tr",null,[mt,_t,xt,ht,t("td",null,[e(x,{label:"",color:p("done"),size:"small",class:"text-capitalize"},{default:a(()=>[u(" \u0E2A\u0E48\u0E07\u0E21\u0E2D\u0E1A\u0E07\u0E32\u0E19\u0E41\u0E25\u0E49\u0E27 ")]),_:1},8,["color"])]),t("td",bt,[e(r,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"projects-installation-update-tab",params:{tab:"customers"}}},{default:a(()=>[e(_,{size:"22",icon:"tabler-edit"})]),_:1})])]),t("tr",null,[ft,vt,gt,wt,t("td",null,[e(x,{label:"",color:p("not complete"),size:"small",class:"text-capitalize"},{default:a(()=>[u(" \u0E04\u0E49\u0E32\u0E07\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07 ")]),_:1},8,["color"])]),t("td",zt,[e(r,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"projects-installation-update-tab",params:{tab:"customers"}}},{default:a(()=>[e(_,{size:"22",icon:"tabler-edit"})]),_:1})])]),t("tr",null,[Vt,St,yt,jt,t("td",null,[e(x,{label:"",color:p("installed"),size:"small",class:"text-capitalize"},{default:a(()=>[u(" \u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07\u0E41\u0E25\u0E49\u0E27 ")]),_:1},8,["color"])]),t("td",Dt,[e(r,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"projects-installation-update-tab",params:{tab:"customers"}}},{default:a(()=>[e(_,{size:"22",icon:"tabler-edit"})]),_:1})])]),t("tr",null,[Nt,It,Pt,Tt,t("td",null,[e(x,{label:"",color:p("appointment"),size:"small",class:"text-capitalize"},{default:a(()=>[u(" \u0E19\u0E31\u0E14\u0E2B\u0E21\u0E32\u0E22\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07\u0E41\u0E25\u0E49\u0E27 ")]),_:1},8,["color"])]),t("td",Ct,[e(r,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"projects-installation-update-tab",params:{tab:"customers"}}},{default:a(()=>[e(_,{size:"22",icon:"tabler-edit"})]),_:1})])]),t("tr",null,[Mt,kt,At,Lt,t("td",null,[e(x,{label:"",color:p("await"),size:"small",class:"text-capitalize"},{default:a(()=>[u(" \u0E23\u0E2D\u0E19\u0E31\u0E14\u0E2B\u0E21\u0E32\u0E22\u0E15\u0E34\u0E14\u0E15\u0E31\u0E49\u0E07 ")]),_:1},8,["color"])]),t("td",Et,[e(r,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"projects-installation-update-tab",params:{tab:"customers"}}},{default:a(()=>[e(_,{size:"22",icon:"tabler-edit"})]),_:1})])]),t("tr",null,[Gt,$t,qt,Bt,t("td",null,[e(x,{label:"",color:p("receive"),size:"small",class:"text-capitalize"},{default:a(()=>[u(" \u0E23\u0E31\u0E1A\u0E04\u0E33\u0E02\u0E2D ")]),_:1},8,["color"])]),t("td",Ft,[e(r,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"projects-installation-update-tab",params:{tab:"customers"}}},{default:a(()=>[e(_,{size:"22",icon:"tabler-edit"})]),_:1})])]),t("tr",null,[Ut,Rt,Ot,Xt,t("td",null,[e(x,{label:"",color:p("request"),size:"small",class:"text-capitalize"},{default:a(()=>[u(" \u0E2A\u0E48\u0E07\u0E04\u0E33\u0E02\u0E2D ")]),_:1},8,["color"])]),t("td",Ht,[e(r,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"projects-installation-update-tab",params:{tab:"customers"}}},{default:a(()=>[e(_,{size:"22",icon:"tabler-edit"})]),_:1})])]),(y(!0),P(R,null,O(m(v),l=>(y(),P("tr",{key:l._id,style:{height:"3.75rem"}},[t("td",null,[t("span",Jt,h(new Date(l.updatedAt).toString().split("GMT")[0]),1)]),t("td",null,[t("span",Kt,h(new Date(l.createdAt).toString().split("GMT")[0]),1)]),t("td",null,[t("span",Qt,h(new Date(l.createdAt).toString().split("GMT")[0]),1)]),t("td",null,[t("span",Wt,h(new Date(l.createdAt).toString().split("GMT")[0]),1)]),t("td",null,[t("span",Yt,h(new Date(l.createdAt).toString().split("GMT")[0]),1)]),t("td",null,[t("span",Zt,h(new Date(l.createdAt).toString().split("GMT")[0]),1)]),t("td",null,[e(x,{label:"",color:p(l.projectStatus),size:"small",class:"text-capitalize"},{default:a(()=>[u(h(l.projectStatus),1)]),_:2},1032,["color"])]),t("td",te,[e(r,{icon:"",size:"x-small",color:"default",variant:"text",to:{name:"projects-installation-update-tab",params:{tab:"customers"}}},{default:a(()=>[e(_,{size:"22",icon:"tabler-edit"})]),_:1}),e(r,{icon:"",size:"x-small",color:"default",variant:"text"},{default:a(()=>[e(K,{title:"Delete Project Installation",data:l,"fetch-data":C,"use-list-store":m(A)},null,8,["data","use-list-store"])]),_:2},1024)])]))),128))]),X(t("tfoot",null,ae,512),[[H,!m(v).length]])]),_:1}),e(I),e(N,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:a(()=>[t("span",se,h(m($)),1),e(st,{modelValue:m(d),"onUpdate:modelValue":n[3]||(n[3]=l=>S(d)?d.value=l:null),size:"small","total-visible":5,length:m(f)},null,8,["modelValue","length"])]),_:1})]),_:1}))}},Be={__name:"index",setup(L){return z(()=>{}),(j,g)=>(y(),P("section",null,[e(le)]))}};export{Be as default};
