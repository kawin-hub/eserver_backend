import{k as c,$ as y,A as X,o as v,c as x,p as t,w as l,q as r,D as _,m as a,E as A,F as N,a as M,b as H,bk as J,x as f,C as F,H as K,I as Q,bd as Y}from"./index.dc90d0c7.js";import{u as U,_ as Z}from"./AddNewLotDrawer.c44b7b97.js";import{a as tt}from"./formatters.1ccc6423.js";import et from"./DeleteButtonInList.33aae4fe.js";import{x as at}from"./xlsx.full.min.98caecf6.js";import{c as C,V as lt}from"./VCard.ef7570db.js";import{V as L,a as j}from"./VRow.a1d8e599.js";import{V as $}from"./VSelect.a1d5e943.js";import{V as I}from"./VDivider.09f7ba48.js";import{V as ot}from"./VSpacer.aeeabc4c.js";import{V as st}from"./VTextField.43a06b61.js";import{V as S}from"./VBtn.5ca26f7c.js";import{V as rt}from"./VTable.b519be0a.js";import{V as it}from"./VAvatar.6d3c69e8.js";import{V as nt}from"./VImg.3d76415f.js";import{V as ut}from"./VChip.b4ad4a52.js";import{V as ct}from"./VPagination.51e71dc0.js";import{V as dt,a as pt}from"./VTabs.58b1a972.js";import{V as mt,a as ft}from"./VWindowItem.f740b083.js";import"./index.cb840b2e.js";import"./validators.e45b77e0.js";import"./index.0d4b9ec4.js";import"./LoadingDialog.7ea8ccb7.js";import"./position.734f74ac.js";import"./router.9f5abff7.js";import"./VDialog.e968e9e0.js";import"./scopeId.51c205c4.js";import"./forwardRefs.c003b6b8.js";import"./VOverlay.f4f2a002.js";import"./lazy.1f3570de.js";import"./easing.36b781ab.js";import"./dialog-transition.b4f36d59.js";import"./VForm.2d60ea09.js";import"./VInput.3420ac64.js";import"./index.35436ddd.js";import"./VTextarea.86d845be.js";/* empty css                   */import"./VField.1bfe0f1f.js";import"./VCounter.07f4b2d1.js";import"./VSnackbar.e0f85ae8.js";import"./VNavigationDrawer.3d1350c1.js";import"./ssrBoot.0ecfb30c.js";import"./DialogCloseBtn.f0270141.js";import"./VList.b57c1041.js";import"./VMenu.b33cc928.js";import"./VCheckboxBtn.732d4006.js";import"./VSelectionControl.64caeaf6.js";import"./VSlideGroup.f23fe18d.js";const vt={class:"me-3",style:{width:"80px"}},_t={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ht={style:{width:"10rem"}},Vt=a("thead",null,[a("tr",null,[a("th",{scope:"col"},"ID"),a("th",{scope:"col"},"Customer"),a("th",{scope:"col"},"Total / RECEIVED"),a("th",{scope:"col"},"ISSUED DATE"),a("th",{scope:"col"},"DUE DATE"),a("th",{scope:"col"},"ACTIONS")])],-1),xt={class:"d-flex align-center"},bt={key:1},gt={class:"d-flex flex-column"},wt={class:"text-capitalize text-base"},Dt={class:"text-capitalize text-base font-weight-semibold"},yt={class:"text-base"},St={class:"text-center",style:{width:"5rem"}},At=a("tr",null,[a("td",{colspan:"7",class:"text-center"},"No data available")],-1),Tt=[At],kt={class:"text-sm text-disabled"},Et={__name:"index",props:{dataSummary:{type:Object}},setup(O){const w=U,h=c(),n=c(10),d=c(1),p=c(1),u=c(0),z=c("add"),b=c([]),V=c([]),D=c(""),P=c(),T=()=>{w.fetchData().then(o=>{b.value=o.data.inventoryLocations;let s=0;b.value.forEach(e=>{e.status=="active"&&s++}),b.value.length-s})},B=()=>{if(b.value===void 0)return 0;var o=w.filterData({q:D.value,status:h.value,perPage:n.value,currentPage:d.value},b.value);V.value=o.items,p.value=o.totalPage,u.value=o.totalItems};y(T),y(B),y(()=>{d.value>p.value&&(d.value=p.value)});const R=[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],q=o=>o==="pending"?"warning":o==="active"?"success":o==="inactive"?"secondary":"primary",g=c(!1);y(()=>{d.value>p.value&&(d.value=p.value)});const G=X(()=>{const o=V.value.length?(d.value-1)*n.value+1:0,s=V.value.length+(d.value-1)*n.value;return`Showing ${o} to ${s} of ${u.value} entries`}),W=()=>{let o=V.value.map(i=>({name:i.name,description:i.description,status:i.status,createdAt:i.createdAt,updatedAt:i.updatedAt}));const s=new Date().toISOString().slice(0,10),e=at,k=e.utils.book_new(),E=e.utils.json_to_sheet(o);e.utils.sheet_add_aoa(E,[["Name","Description","Status","Created at","Updated at"]],{origin:"A1"}),E["!cols"]=[{wch:o.reduce((i,m)=>Math.max(i,m.name.length),10)},{wch:o.reduce((i,m)=>Math.max(i,m.description.length),10)},{wch:o.reduce((i,m)=>Math.max(i,m.status.length),10)},{wch:o.reduce((i,m)=>Math.max(i,m.createdAt.length),10)},{wch:o.reduce((i,m)=>Math.max(i,m.updatedAt.length),10)}],e.utils.book_append_sheet(k,E),e.writeFile(k,"categories-("+s+").xlsx")};return(o,s)=>(v(),x(N,null,[t(lt,{title:"Search Filter"},{default:l(()=>[t(C,null,{default:l(()=>[t(L,null,{default:l(()=>[t(j,{cols:"12",sm:"4"},{default:l(()=>[t($,{modelValue:r(h),"onUpdate:modelValue":s[0]||(s[0]=e=>_(h)?h.value=e:null),label:"Select Status",items:R,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(I),t(C,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[a("div",vt,[t($,{modelValue:r(n),"onUpdate:modelValue":s[1]||(s[1]=e=>_(n)?n.value=e:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),t(ot),a("div",_t,[a("div",ht,[t(st,{modelValue:r(D),"onUpdate:modelValue":s[2]||(s[2]=e=>_(D)?D.value=e:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),t(S,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share",onClick:W},{default:l(()=>[A(" Export ")]),_:1}),t(S,{"prepend-icon":"tabler-plus",to:{name:"projects-installation-project"}},{default:l(()=>[A(" New Project ")]),_:1})])]),_:1}),t(I),t(rt,{class:"text-no-wrap"},{default:l(()=>[Vt,a("tbody",null,[(v(!0),x(N,null,M(r(V),e=>(v(),x("tr",{key:e._id,style:{height:"3.75rem"}},[a("td",null,[a("div",xt,[t(it,{variant:"tonal",color:"primary",class:"me-3",size:"38"},{default:l(()=>[e.avatar?(v(),H(nt,{key:0,src:r(J).api.url+e.avatar},null,8,["src"])):(v(),x("span",bt,f(r(tt)(e.name)),1))]),_:2},1024),a("div",gt,[a("h6",wt,f(e.name),1)])])]),a("td",null,[a("span",Dt,f(new Date(e.updatedAt).toString().split("GMT")[0]),1)]),a("td",null,[a("span",yt,f(new Date(e.createdAt).toString().split("GMT")[0]),1)]),a("td",null,[t(ut,{label:"",color:q(e.status),size:"small",class:"text-capitalize"},{default:l(()=>[A(f(e.status),1)]),_:2},1032,["color"])]),a("td",St,[t(S,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[t(F,{size:"22",icon:"tabler-edit",onClick:k=>{g.value=!0,z.value="edit",P.value=e}},null,8,["onClick"])]),_:2},1024),t(S,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[t(et,{title:"Delete inventory lot",data:e,"fetch-data":T,"use-list-store":r(U)},null,8,["data","use-list-store"])]),_:2},1024)])]))),128))]),K(a("tfoot",null,Tt,512),[[Q,!r(V).length]])]),_:1}),t(I),t(C,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:l(()=>[a("span",kt,f(r(G)),1),t(ct,{modelValue:r(d),"onUpdate:modelValue":s[3]||(s[3]=e=>_(d)?d.value=e:null),size:"small","total-visible":5,length:r(p)},null,8,["modelValue","length"])]),_:1})]),_:1}),t(Z,{isDrawerOpen:r(g),"onUpdate:isDrawerOpen":s[4]||(s[4]=e=>_(g)?g.value=e:null),fetchData:T,drawerType:r(z),editData:r(P),isAddNewDrawerVisible:r(g)},null,8,["isDrawerOpen","drawerType","editData","isAddNewDrawerVisible"])],64))}};const ye={__name:"[tab]",setup(O){const w=[{title:"Projects",icon:"tabler-category",tab:"projects"}],h=Y(),n=c(h.params.tab);return(d,p)=>(v(),x("section",null,[t(L,null,{default:l(()=>[t(j,{cols:"12"},{default:l(()=>[t(dt,{modelValue:r(n),"onUpdate:modelValue":p[0]||(p[0]=u=>_(n)?n.value=u:null),class:"v-tabs-pill"},{default:l(()=>[(v(),x(N,null,M(w,u=>t(pt,{key:u.icon,value:u.tab,to:{name:"projects-installation-tab",params:{tab:u.tab}}},{default:l(()=>[t(F,{size:"20",start:"",icon:u.icon},null,8,["icon"]),A(" "+f(u.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"])]),_:1}),t(j,{cols:"12"},{default:l(()=>[t(mt,{modelValue:r(n),"onUpdate:modelValue":p[1]||(p[1]=u=>_(n)?n.value=u:null),class:"disable-tab-transition",touch:!1},{default:l(()=>[t(ft,{value:"projects"},{default:l(()=>[t(Et)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]))}};export{ye as default};
